<%- include('partials/layout', { title: 'Heart Rate Zones', user: (typeof user !== 'undefined' ? user : null) }) %>
<section>
  <h1>Heart Rate Zones</h1>
  <% if (error) { %><div class="error"><%= error %></div><% } %>
  <form method="post" action="/tools/hr" class="form" style="display:flex; gap:12px; align-items:flex-end; flex-wrap:wrap;">
    <div>
      <label>Age (years)</label>
      <input type="text" name="age" value="<%= age %>" />
    </div>
    <button type="submit">Calculate</button>
  </form>
  <% if (result) { %>
    <div class="info" style="margin-top:12px;">
      <strong>Max HR:</strong> <%= result.max %> bpm
    </div>
    <table class="table" style="margin-top:8px;">
      <thead>
        <tr><th>Zone</th><th>Range (bpm)</th></tr>
      </thead>
      <tbody>
        <% result.zones.forEach(z => { %>
          <tr><td><%= z.name %></td><td><%= z.min %>â€“<%= z.max %></td></tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>
</section>
<%- include('partials/footer') %>
