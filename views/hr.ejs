<%- include('partials/layout', { title: 'Heart Rate Zones', user: (typeof user !== 'undefined' ? user : null) }) %>
<section class="card">
  <h1 class="m-0">Heart Rate Zones</h1>
  <% if (error) { %><div class="error mt-2"><%= error %></div><% } %>
  <form method="post" action="<%= (typeof basePath !== 'undefined' ? basePath : '') %>/tools/hr" class="search-form mt-2">
    <div>
      <label>Age (years)</label>
      <input type="text" name="age" value="<%= age %>" />
    </div>
    <button type="submit">Calculate</button>
  </form>
  <% if (result) { %>
    <div class="mt-2">
      <strong>Max HR:</strong> <%= result.max %> bpm
    </div>
    <table class="table mt-2">
      <thead>
        <tr><th>Zone</th><th>Range (bpm)</th></tr>
      </thead>
      <tbody>
        <% result.zones.forEach(z => { %>
          <tr><td><%= z.name %></td><td><%= z.min %>â€“<%= z.max %></td></tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>
</section>
<%- include('partials/footer') %>
