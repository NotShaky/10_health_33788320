<%- include('partials/layout', { title: 'Recipes Lookup', user: (typeof user !== 'undefined' ? user : null) }) %>
<section>
  <h1>Recipes Lookup</h1>
  <% if (error) { %><div class="error"><%= error %></div><% } %>
  <form method="post" action="<%= (typeof basePath !== 'undefined' ? basePath : '') %>/tools/recipes" class="form" style="display:flex; gap:12px; align-items:flex-end; flex-wrap:wrap;">
    <div style="flex:1">
      <label>Recipe keyword (e.g., "pasta", "salad")</label>
      <input type="text" name="q" value="<%= q %>" />
    </div>
    <button type="submit">Search</button>
  </form>
  <% if (items && items.length) { %>
    <div class="card" style="margin-top:12px; display:grid; gap:12px;">
      <% items.forEach(it => { %>
        <div style="border:1px solid var(--border); border-radius:12px; padding:12px; background:#0b1220;">
          <h3 style="margin:0 0 8px 0;"><%= it.title %></h3>
          <% if (it.ingredients) { %>
            <p><strong>Ingredients:</strong> <%= it.ingredients %></p>
          <% } %>
          <% if (it.servings) { %>
            <p><strong>Servings:</strong> <%= it.servings %></p>
          <% } %>
          <% if (it.instructions) { %>
            <p><strong>Instructions:</strong> <%= it.instructions %></p>
          <% } %>
        </div>
      <% }) %>
    </div>
  <% } %>
</section>
<%- include('partials/footer') %>